"use strict";if(HTMLElement.prototype.importCustomElementTemplateFromHTMLImport=function(){this.innerHTML=document.querySelector('link[href*="'+this.tagName.toLowerCase()+'.html"]').import.querySelector("template").innerHTML},HTMLTemplateElement.prototype.getFirstElementChild=function(){let t=document.createElement("div");return t.innerHTML=this.innerHTML,t.firstElementChild},window.location.staticAssign=function(t){window.history.pushState(null,null,t),window.dispatchEvent(new Event("popstate"))},window.location.getPathLastSegment=function(){window.location.path;return window.location.pathname.split("/").pop()},window.location.getParam=function(t){let n={},e=window.location.search.substr(1).split("&");for(let t=0;t<e.length;t++){let i=e[t].split("=");n[i[0]]=i[1]}return n[t]||""},window.Math.randomRange=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},window.Number.prototype.toRad=function(){return this*Math.PI/180},window.Math.calculateDistance=function(t,n,e,i){let a=(e-t).toRad(),o=(i-n).toRad(),r=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t.toRad())*Math.cos(e.toRad())*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},window.tingting={},window.tingting.api={},window.tingting.api.targetUrl="",window.tingting.api.get=async function(t,n){const e=window.tingting.auth;let i=Object.keys(n).map(t=>t+"="+n[t]).join("&"),a=new Headers;a.append("Content-Type","text/plain"),a.append("Authorization",e.get());let o={method:"GET",mode:"cors",headers:a},r=await fetch(window.tingting.api.targetUrl+t+"?"+i,o);switch(r.headers.get("Content-Type")){case"application/json":return r.json();case"multipart/form-data":return r.formData();case"text/plain":return r.text();default:return r.blob()}},window.tingting.api.put=async function(t,n){const e=window.tingting.auth;let i=new Headers;switch(!0){case n instanceof window.File:i.set("Content-Type",n.type);break;case"object"==typeof n:i.set("Content-Type","application/json"),n=JSON.stringify(n);break;case"string"==typeof n:i.set("Content-Type","text/plain")}i.append("Authorization",e.get());let a={method:"PUT",mode:"cors",headers:i,body:n},o=await fetch(window.tingting.api.targetUrl+t,a);switch(o.headers.get("Content-Type")){case"application/json":return o.json();case"multipart/form-data":return o.formData();case"text/plain":return o.text();default:return o.blob()}},window.tingting.api.delete=async function(t,n){const e=window.tingting.auth;let i=new Headers;i.append("Content-Type","application/json"),i.append("Authorization",e.get());let a={method:"DELETE",mode:"cors",headers:i,body:JSON.stringify(n)},o=await fetch(window.tingting.api.targetUrl+t,a);switch(o.headers.get("Content-Type")){case"application/json":return o.json();case"multipart/form-data":return o.formData();case"text/plain":return o.text();default:return o.blob()}},!document.head.querySelector('meta[name="tingting-api-url"]'))throw new RangeError('You must specify API url in <meta name="tingting-api-url"> tag to use avalon-front-end-infrastructure module.');{let t=document.head.querySelector('meta[name="tingting-api-url"]').content.split(",");for(let n of t){let t=new window.URL(n);window.location.hostname===t.hostname&&(window.tingting.api.targetUrl=n)}window.tingting.api.targetUrl||(window.tingting.api.targetUrl=t[0])}window.tingting.auth={};{let t=null;window.tingting.auth.set=function(n){t=n},window.tingting.auth.get=function(){return t}}window.tingting.util={},window.tingting.util.sleep=function(t){return new Promise(n=>setTimeout(n,t))};